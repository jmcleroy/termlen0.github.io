<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Network Automation &middot; Brownfield (mostly)
    
  </title>

  <!-- CSS -->
  <!-- <link rel="stylesheet" href="/public/css/poole.css"> -->
  <!-- <link rel="stylesheet" href="/public/css/syntax.css"> -->
  <!-- <link rel="stylesheet" href="/public/css/hyde.css"> -->
  <!-- <link rel="stylesheet" -->

<link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet"  href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
</head>

  <h3 class="masthead-title">
    <a href="/" title="Home">Network Automation</a>

    
    &nbsp;&nbsp;&nbsp;
    <small><a href="/archive">Archive</a></small>
    
  </h3>
  <body class="theme-base-08">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Network Automation
        </a>
      </h1>
      <p class="lead">Observations in network automation<br /> <a href="https://twitter.com/termlen0" target="_blank">@termlen0</a></p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/acrhive/">Archive</a>
          
        
      
        
      
        
          
        
      
        
      
        
          
        
      

            <a class="sidebar-nav-item" href="https://github.com/termlen0">GitHub project</a>

            <a href="https://twitter.com/termlen0"> <i class="fa fa-twitter"></i> </a>
            <a href="https://github.com/termlen0"> <i class="fa fa-github"></i> </a>
            
            <a href="https://linkedin.com/in/achenampara"> <i class="fa fa-linkedin"></i> </a>

    
    </nav>
    
    <p>&copy; 2018. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2017/04/20/observations/">
        OT - A quick post on using gpg to manage github in Linux
      </a>
    </h1>

    <span class="post-date">20 Apr 2017</span>

    <p>After being used to OSX Keychains in my old mac, I wanted a similar
functionality on my Linux laptop. Being prompted each time to login,
while interacting with <a href="https://github.com">github</a> for instance was
annoying. Searching the web, led me to
<a href="https://git-scm.com/docs/git-credential-store">git-credential-store</a>.
I was not too happy with the fact that credentials would be stored in
clear text, locally, indefinitely. I came across this stackoverflow
<a href="http://stackoverflow.com/questions/5343068/is-there-a-way-to-skip-password-typing-when-using-https-on-github/18362082#18362082">post</a> that
I adapted for Linux. The concept is as follows:</p>

<ol>
<li>Use a .netrc file to store your credentials. This follows the
  file format for <a href="https://www.ibm.com/support/knowledgecenter/SSB27U_6.2.0/com.ibm.zvm.v620.kijl0/netrcd.htm#netrcd">netrc</a></li>
<li>Encrypt this file,
  using <a href="https://www.gnupg.org/">GNU Privacy Guard</a></li>
</ol>

    <a href="/2017/04/20/observations/"> Read more </a>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2017/04/12/observations/">
        Test Driven Development (TDD) for networks,  using Ansible
      </a>
    </h1>

    <span class="post-date">12 Apr 2017</span>

    <p>In it&#39;s most basic form, TDD works as follows:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>1. Envision the outcome of what you are developing [ Adding a VLAN
   to a switch ]
2. Write a test to validate that outcome [ Is the desired VLAN on
   the switch ]
3. Run the playbook, to invoke the test [ it will fail - RED test
   ]
4. Refactor your code [ write the roles/tasks needed for the tests
   to pass ]
5. Re-run tests [role] to ensure that they now pass
</code></pre></div>
<p>In this post, I hope to share my observations on how I used ansible to
implement this using roles. I start with known facts/assumptions:</p>

    <a href="/2017/04/12/observations/"> Read more </a>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2017/02/03/observations/">
        Of state, idempotency, and CI/CD in the brownfield network
      </a>
    </h1>

    <span class="post-date">03 Feb 2017</span>

    <p>This post is a consequence of an interesting conversation around
declarative control systems with a colleague. Throughout the
conversation, we kept coming back to the &#39;popularity&#39; of automation
and specifically, how revolutionary, it appears for legacy, closed
systems(aka 80% of network gear in enterprises). When you think about it,
in a traditional control system (a bread toaster, in it&#39;s simplest
form), we interact with the system as follows:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>1. We tell it (declare) what our desired outcome is (how brown do you
want your toast)
2. Inputs (the slices of bread)
</code></pre></div>
<p>The system then figures out how to achieve your end state. In other
words..</p>

    <a href="/2017/02/03/observations/"> Read more </a>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2016/12/28/observations/">
        The need for a stateful variable tracker and an implementation example
      </a>
    </h1>

    <span class="post-date">28 Dec 2016</span>

    <p>When it comes to automation role models, network engineers have often looked up,
to our compute brethren. For decades, compute admins have had tools that allowed
them to execute scripts on systems at particular times: typically backups,
rsync etc. More recently, in the VM universe,  DevOps tools like Chef/Puppet/
Ansible, have empowered &#39;Developer Administrators&#39;, to stand up the entire app
stack, automatically.</p>

<p>In my network automation journey, I realized early on that, a big gap/obstacle
for network automation is the need for a backend, to track positive
integers; a source of truth, that knows what numeric value was last</p>

    <a href="/2016/12/28/observations/"> Read more </a>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2016/12/16/observations/">
        Running ansible at scale
      </a>
    </h1>

    <span class="post-date">16 Dec 2016</span>

    <p>Last week I deployed my first &quot;at scale&quot; playbook. The overall objective was simple: Add new dhcp helper address to about 400 switches.
Like most things though, the devil is in the details. Right off the bat, I ran into &quot;non-ansible&quot; related issues (tacacs/ssh).
That brought the number of devices to about 270. Not a big number right?
At the most basic level, yes, if I was simply pushing configs using the ios_config
module.</p>

<h2>Breakdown of the playbook</h2>

<ol>
<li>Execute a show run on the device and compile a local backup for each device</li>
<li>Run a pre-flight report, specific to the interfaces we are going to impact (multiple ssh sessions per host)</li>
<li>Build the configs locally</li>
<li>Deploy the configs</li>
<li>Validate the configs/Unit testing</li>
</ol>

    <a href="/2016/12/16/observations/"> Read more </a>
  </div>
  
</div>

<div class="pagination">
  
    <span class="pagination-item older">Older</span>
  
  
    
      <a class="pagination-item newer" href="/">Newer</a>
    
  
</div>

                                      

    </div>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-121410364-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-121410364-1');
</script>


  </body>
</html>
